{"remainingRequest":"D:\\VUE\\day03\\newvuemoban\\node_modules\\babel-loader\\lib\\index.js!D:\\VUE\\day03\\newvuemoban\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\VUE\\day03\\newvuemoban\\src\\router\\index.js","dependencies":[{"path":"D:\\VUE\\day03\\newvuemoban\\src\\router\\index.js","mtime":1597046353777},{"path":"D:\\VUE\\day03\\newvuemoban\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VUE\\day03\\newvuemoban\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\VUE\\day03\\newvuemoban\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgSG9tZSBmcm9tICcuLi9jb21wb25lbnRzL0hvbWUudnVlJzsKaW1wb3J0IFN0b3JlIGZyb20gJy4uL2NvbXBvbmVudHMvdGVtcC9TdG9yZS52dWUnOwppbXBvcnQgSW5kZXggZnJvbSAnLi4vY29tcG9uZW50cy90ZW1wL0luZGV4LnZ1ZSc7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIGNvbXBvbmVudDogSG9tZSwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICcvc3RvcmUnLAogICAgY29tcG9uZW50OiBTdG9yZQogIH0sIHsKICAgIHBhdGg6ICcvaW5kZXgnLAogICAgY29tcG9uZW50OiBJbmRleAogIH1dCn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgcm91dGVzOiByb3V0ZXMKfSk7IC8vIOi3r+eUseaLpuaIqgovLyDmmrTpnLLlh7pyb3V0ZXLkuYvliY3vvIzlkK/liqjot6/nlLHlr7zoiKrlrojljasKCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIC8vIHRv5LuO5ZOq6YeM5p2lIGZyb23opoHljrvlk6rph4wgbmV4dCgp5pS+6KGMIG5leHQoJy9sb2dpbicp5by65Yi26Lez6L2s5YiwL2xvZ2luCiAgaWYgKHRvLnBhdGggPT09ICcvJykgewogICAgLy8g5aaC5p6c6KaB5rGC55m75b2V6aG16Z2i77yM5pS+6KGMCiAgICByZXR1cm4gbmV4dCgpOwogIH0gLy8g6I635Y+WdG9rZW4KCgogIHZhciB0b2tlblN0ciA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwoKICBpZiAoIXRva2VuU3RyKSB7CiAgICAvLyDlpoLmnpzojrflj5bnmoR0b2tlbuS4uuepuu+8jOW8uuihjOi3s+WIsC9sb2dpbgogICAgLy8gcmV0dXJuIG5leHQoJy9sb2dpbicpCiAgICByZXR1cm4gbmV4dCgpOwogIH0gLy8g5pyJdG9rZW7vvIzkuJTkuI3kuLrnqbrvvIzmlL7ooYwKCgogIG5leHQoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["D:/VUE/day03/newvuemoban/src/router/index.js"],"names":["Vue","VueRouter","Home","Store","Index","use","routes","path","component","children","router","beforeEach","to","from","next","tokenStr","window","sessionStorage","getItem"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,SAAR;AAEA,IAAMK,MAAM,GAAG,CACb;AAAEC,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,SAAS,EAAEN,IAAxB;AAA8BO,EAAAA,QAAQ,EAAE,CAAC;AAAEF,IAAAA,IAAI,EAAE,QAAR;AAAkBC,IAAAA,SAAS,EAAEL;AAA7B,GAAD,EAAuC;AAAEI,IAAAA,IAAI,EAAE,QAAR;AAAkBC,IAAAA,SAAS,EAAEJ;AAA7B,GAAvC;AAAxC,CADa,CAAf;AAIA,IAAMM,MAAM,GAAG,IAAIT,SAAJ,CAAc;AAC3BK,EAAAA,MAAM,EAANA;AAD2B,CAAd,CAAf,C,CAIA;AACA;;AACAI,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACA,MAAIF,EAAE,CAACL,IAAH,KAAY,GAAhB,EAAqB;AACnB;AACA,WAAOO,IAAI,EAAX;AACD,GALmC,CAMpC;;;AACA,MAAMC,QAAQ,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAjB;;AACA,MAAI,CAACH,QAAL,EAAe;AACb;AACA;AACA,WAAOD,IAAI,EAAX;AACD,GAZmC,CAapC;;;AACAA,EAAAA,IAAI;AACL,CAfD;AAgBA,eAAeJ,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '../components/Home.vue'\r\nimport Store from '../components/temp/Store.vue'\r\nimport Index from '../components/temp/Index.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  { path: '/', component: Home, children: [{ path: '/store', component: Store }, { path: '/index', component: Index }] }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  routes\r\n})\r\n\r\n// 路由拦截\r\n// 暴露出router之前，启动路由导航守卫\r\nrouter.beforeEach((to, from, next) => {\r\n  // to从哪里来 from要去哪里 next()放行 next('/login')强制跳转到/login\r\n  if (to.path === '/') {\r\n    // 如果要求登录页面，放行\r\n    return next()\r\n  }\r\n  // 获取token\r\n  const tokenStr = window.sessionStorage.getItem('token')\r\n  if (!tokenStr) {\r\n    // 如果获取的token为空，强行跳到/login\r\n    // return next('/login')\r\n    return next()\r\n  }\r\n  // 有token，且不为空，放行\r\n  next()\r\n})\r\nexport default router\r\n"]}]}